CREATE TABLE ESTUDIANTES (
    ID_ESTUDIANTE    VARCHAR(15) PRIMARY KEY,
    NOMBRES          VARCHAR(100) NOT NULL,
    APELLIDOS        VARCHAR(100) NOT NULL,
    DNI              VARCHAR(15) NOT NULL UNIQUE,
    CORREO           VARCHAR(100) NOT NULL UNIQUE,
    CARRERA          VARCHAR(100) NOT NULL,
    TELEFONO         VARCHAR(15)
);

CREATE TABLE TUTORES (
    ID_TUTOR         VARCHAR(15) PRIMARY KEY,
    NOMBRES          VARCHAR(100) NOT NULL,
    APELLIDOS        VARCHAR(100) NOT NULL,
    DNI              VARCHAR(15) NOT NULL UNIQUE,
    CORREO           VARCHAR(100) NOT NULL UNIQUE,
    TELEFONO         VARCHAR(15)
);

CREATE TABLE EMPRESAS (
    ID_EMPRESA       VARCHAR(15) PRIMARY KEY,
    NOMBRE           VARCHAR(150) NOT NULL,
    RUBRO            VARCHAR(100) NOT NULL,
    DIRECCION        VARCHAR(150) NOT NULL,
    TELEFONO         VARCHAR(15),
    CORREO           VARCHAR(100)
);

CREATE TABLE PRACTICAS (
    ID_PRACTICA      VARCHAR(15) PRIMARY KEY,
    ID_ESTUDIANTE    VARCHAR(15) NOT NULL,
    ID_EMPRESA       VARCHAR(15) NOT NULL,
    ID_TUTOR         VARCHAR(15) NOT NULL,
    FECHA_INICIO     DATE NOT NULL,
    FECHA_FIN        DATE,
    ESTADO           VARCHAR(20) CHECK (ESTADO IN ('activa', 'finalizada', 'anulada'))
);

CREATE TABLE ACTIVIDADES (
    ID_ACTIVIDAD     VARCHAR(15) PRIMARY KEY,
    ID_PRACTICA      VARCHAR(15) NOT NULL,
    FECHA            DATE NOT NULL,
    DESCRIPCION      VARCHAR(250) NOT NULL,
    HORAS            DECIMAL(5,2) NOT NULL,
    ESTADO           VARCHAR(20) CHECK (ESTADO IN ('pendiente', 'aprobada', 'rechazada')) DEFAULT 'pendiente'
);

-- CLAVES FORÁNEAS

ALTER TABLE PRACTICAS
ADD CONSTRAINT FK_PRACTICAS_ESTUDIANTES
FOREIGN KEY (ID_ESTUDIANTE) REFERENCES ESTUDIANTES(ID_ESTUDIANTE)
ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE PRACTICAS
ADD CONSTRAINT FK_PRACTICAS_TUTORES
FOREIGN KEY (ID_TUTOR) REFERENCES TUTORES(ID_TUTOR)
ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE PRACTICAS
ADD CONSTRAINT FK_PRACTICAS_EMPRESAS
FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESAS(ID_EMPRESA)
ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ACTIVIDADES
ADD CONSTRAINT FK_ACTIVIDADES_PRACTICAS
FOREIGN KEY (ID_PRACTICA) REFERENCES PRACTICAS(ID_PRACTICA)
ON DELETE CASCADE ON UPDATE CASCADE;

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U50248211', 'Carlos Luis', 'Ramírez Flores', '50248211', 'u50248211@uni.edu.pe', 'Ingeniería de Sistemas', '+51920043166');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U64416540', 'Patricia Patricia', 'Gonzales Ramírez', '64416540', 'u64416540@uni.edu.pe', 'Ingeniería de Software', '+51974484050');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U26001724', 'María Miguel', 'Quispe Flores', '26001724', 'u26001724@uni.edu.pe', 'Ingeniería de Sistemas', '+51998562481');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U99763535', 'Carlos Lucía', 'Rojas Rojas', '99763535', 'u99763535@uni.edu.pe', 'Ingeniería de Sistemas', '+51931115380');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U73253925', 'Carlos', 'Vásquez Quispe', '73253925', 'u73253925@uni.edu.pe', 'Ingeniería de Sistemas', '+51964534036');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U09620886', 'Patricia Miguel', 'Sánchez Ramírez', '09620886', 'u09620886@uni.edu.pe', 'Ingeniería de Software', '+51904704087');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U03571145', 'María Ana', 'Vásquez Pérez', '03571145', 'u03571145@uni.edu.pe', 'Ingeniería de Sistemas', '+51934758601');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U07449412', 'Diana Carlos', 'Quispe Vásquez', '07449412', 'u07449412@uni.edu.pe', 'Ingeniería de Software', '+51946200555');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U16948828', 'Ana Lucía', 'Pérez Gonzales', '16948828', 'u16948828@uni.edu.pe', 'Ingeniería de Software', '+51988412085');

INSERT INTO ESTUDIANTES (ID_ESTUDIANTE, NOMBRES, APELLIDOS, DNI, CORREO, CARRERA, TELEFONO)
VALUES ('U27170713', 'Ana Ana', 'Vásquez Sánchez', '27170713', 'u27170713@uni.edu.pe', 'Ingeniería de Software', '+51942884308');

INSERT INTO TUTORES (ID_TUTOR, NOMBRES, APELLIDOS, DNI, CORREO, TELEFONO)
VALUES ('D46096427', 'Lucía Miguel', 'Pérez Pérez', '46096427', 'd46096427@uni.edu.pe', '+51983455474');

INSERT INTO TUTORES (ID_TUTOR, NOMBRES, APELLIDOS, DNI, CORREO, TELEFONO)
VALUES ('D56318439', 'Diana Patricia', 'Torres Sánchez', '56318439', 'd56318439@uni.edu.pe', '+51968938746');

INSERT INTO TUTORES (ID_TUTOR, NOMBRES, APELLIDOS, DNI, CORREO, TELEFONO)
VALUES ('D26994173', 'Diana Diana', 'Ramírez Ramírez', '26994173', 'd26994173@uni.edu.pe', '+51972213752');

INSERT INTO TUTORES (ID_TUTOR, NOMBRES, APELLIDOS, DNI, CORREO, TELEFONO)
VALUES ('D27201261', 'Juan', 'Rojas Sánchez', '27201261', 'd27201261@uni.edu.pe', '+51977114846');

INSERT INTO TUTORES (ID_TUTOR, NOMBRES, APELLIDOS, DNI, CORREO, TELEFONO)
VALUES ('D59753895', 'Lucía Luis', 'Sánchez Pérez', '59753895', 'd59753895@uni.edu.pe', '+51901858230');


INSERT INTO EMPRESAS (ID_EMPRESA, NOMBRE, RUBRO, DIRECCION, TELEFONO, CORREO)
VALUES ('E001', 'Belatrix Software', 'Desarrollo de Software', 'Av. Dionisio Derteano 184, San Isidro', '+51968385665', 'contacto@belatrixsf.com');

INSERT INTO EMPRESAS (ID_EMPRESA, NOMBRE, RUBRO, DIRECCION, TELEFONO, CORREO)
VALUES ('E002', 'Avantica Technologies', 'Servicios de TI', 'Calle Las Camelias 750, San Isidro', '+51973432106', 'info@avantica.net');

INSERT INTO EMPRESAS (ID_EMPRESA, NOMBRE, RUBRO, DIRECCION, TELEFONO, CORREO)
VALUES ('E003', 'Sapia', 'Consultoría TI', 'Av. Javier Prado Este 6210, La Molina', '+51977108790', 'contacto@sapia.pe');

INSERT INTO EMPRESAS (ID_EMPRESA, NOMBRE, RUBRO, DIRECCION, TELEFONO, CORREO)
VALUES ('E004', 'GMD', 'Servicios Gestionados TI', 'Av. República de Panamá 3591, San Isidro', '+51950208819', 'soporte@gmd.com.pe');

INSERT INTO EMPRESAS (ID_EMPRESA, NOMBRE, RUBRO, DIRECCION, TELEFONO, CORREO)
VALUES ('E005', 'BTS Consulting', 'Consultoría y Soluciones TI', 'Calle Martín de Murúa 150, San Miguel', '+51975527124', 'contacto@bts.com.pe');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P001', 'U50248211', 'E001', 'D46096427', '2024-11-29', '2025-05-28', 'finalizada');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P002', 'U64416540', 'E002', 'D56318439', '2024-11-19', '2025-05-23', 'finalizada');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P003', 'U26001724', 'E003', 'D26994173', '2024-11-09', '2025-05-18', 'finalizada');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P004', 'U99763535', 'E004', 'D27201261', '2025-05-10', NULL, 'activa');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P005', 'U73253925', 'E005', 'D59753895', '2025-05-09', NULL, 'activa');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P006', 'U09620886', 'E001', 'D46096427', '2025-05-08', NULL, 'activa');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P007', 'U03571145', 'E002', 'D56318439', '2025-05-07', NULL, 'activa');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P008', 'U07449412', 'E003', 'D26994173', '2025-05-06', NULL, 'activa');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P009', 'U16948828', 'E004', 'D27201261', '2025-05-05', NULL, 'activa');

INSERT INTO PRACTICAS (ID_PRACTICA, ID_ESTUDIANTE, ID_EMPRESA, ID_TUTOR, FECHA_INICIO, FECHA_FIN, ESTADO)
VALUES ('P010', 'U27170713', 'E005', 'D59753895', '2025-05-04', NULL, 'activa');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A001', 'P001', '2024-12-10', 'Actividad 1 de práctica 1', 4.87, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A002', 'P001', '2024-12-11', 'Actividad 2 de práctica 1', 2.84, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A003', 'P002', '2024-11-30', 'Actividad 1 de práctica 2', 4.97, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A004', 'P002', '2024-12-01', 'Actividad 2 de práctica 2', 4.71, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A005', 'P003', '2024-11-20', 'Actividad 1 de práctica 3', 4.11, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A006', 'P003', '2024-11-21', 'Actividad 2 de práctica 3', 2.11, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A007', 'P004', '2025-05-21', 'Actividad 1 de práctica 4', 3.96, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A008', 'P004', '2025-05-22', 'Actividad 2 de práctica 4', 4.2, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A009', 'P005', '2025-05-20', 'Actividad 1 de práctica 5', 2.26, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A010', 'P005', '2025-05-21', 'Actividad 2 de práctica 5', 3.74, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A011', 'P006', '2025-05-19', 'Actividad 1 de práctica 6', 3.3, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A012', 'P006', '2025-05-20', 'Actividad 2 de práctica 6', 3.89, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A013', 'P007', '2025-05-18', 'Actividad 1 de práctica 7', 4.26, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A014', 'P007', '2025-05-19', 'Actividad 2 de práctica 7', 4.12, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A015', 'P008', '2025-05-17', 'Actividad 1 de práctica 8', 2.47, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A016', 'P008', '2025-05-18', 'Actividad 2 de práctica 8', 3.16, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A017', 'P009', '2025-05-16', 'Actividad 1 de práctica 9', 3.76, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A018', 'P009', '2025-05-17', 'Actividad 2 de práctica 9', 4.85, 'pendiente');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A019', 'P010', '2025-05-15', 'Actividad 1 de práctica 10', 3.36, 'aprobada');

INSERT INTO ACTIVIDADES (ID_ACTIVIDAD, ID_PRACTICA, FECHA, DESCRIPCION, HORAS, ESTADO)
VALUES ('A020', 'P010', '2025-05-16', 'Actividad 2 de práctica 10', 2.46, 'pendiente');
